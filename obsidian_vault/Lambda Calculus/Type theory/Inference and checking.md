https://davidchristiansen.dk/tutorials/bidirectional.pdf